<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro Educativo Premium - Oportunidad de Inversi√≥n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow-x: hidden;
            color: white;
        }

        .hero-section {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, #1e3c72, #2a5298, #764ba2);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            overflow: hidden;
        }

        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            opacity: 0.7;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(30,60,114,0.8), rgba(42,82,152,0.6), rgba(118,75,162,0.8));
            z-index: 2;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero-content {
            text-align: center;
            z-index: 3;
            max-width: 1200px;
            padding: 0 20px;
            position: relative;
        }

        .video-toggle-btn {
            position: absolute;
            bottom: 30px;
            right: 30px;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.5);
            border-radius: 50px;
            padding: 15px 25px;
            color: white;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            z-index: 4;
            font-size: 14px;
            font-weight: bold;
        }

        .video-toggle-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        /* Bot√≥n de play central para m√≥viles */
        .mobile-play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .mobile-play-overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .mobile-play-btn {
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .mobile-play-btn:hover {
            transform: scale(1.1);
            background: white;
        }

        .main-title {
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            font-weight: 900;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: textGradient 3s ease infinite, float 6s ease-in-out infinite;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(255,255,255,0.3);
        }

        @keyframes textGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .subtitle {
            font-size: clamp(1.2rem, 4vw, 2rem);
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: slideUp 1s ease 0.5s both;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 0.9; transform: translateY(0); }
        }

        .floating-cards {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .floating-card {
            position: absolute;
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            animation: floatAround 20s linear infinite;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            user-select: none;
        }

        .floating-card:hover {
            transform: scale(1.2);
            background: rgba(255,255,255,0.2);
            box-shadow: 0 0 20px rgba(255,255,255,0.5);
        }

        .floating-card.popping {
            animation: bubblePop 0.6s ease-out forwards;
        }

        @keyframes bubblePop {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.5);
                opacity: 0.8;
                background: rgba(255,255,255,0.4);
                box-shadow: 0 0 30px rgba(255,255,255,0.8);
            }
            100% {
                transform: scale(0);
                opacity: 0;
            }
        }

        .floating-card.respawning {
            animation: bubbleRespawn 0.8s ease-out forwards;
            opacity: 0;
            transform: scale(0);
        }

        @keyframes bubbleRespawn {
            0% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 0.5;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes floatAround {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100px) rotate(360deg); }
        }

        @keyframes particleExplode {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--vx), var(--vy)) scale(0);
            }
        }

        .info-section {
            padding: 100px 20px;
            background: rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .card {
            background: rgba(255,255,255,0.15);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            transform: translateY(20px);
            opacity: 0;
            animation: cardReveal 0.8s ease forwards;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .card:nth-child(1) { animation-delay: 0.2s; }
        .card:nth-child(2) { animation-delay: 0.4s; }
        .card:nth-child(3) { animation-delay: 0.6s; }
        .card:nth-child(4) { animation-delay: 0.8s; }

        @keyframes cardReveal {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #4ecdc4;
        }

        .highlight-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: #ff6b6b;
            display: block;
            margin: 10px 0;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 50px 0;
        }

        .spec-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .spec-item:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .spec-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .spec-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: #96ceb4;
        }

        .cta-section {
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            padding: 80px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="60" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            animation: patternMove 20s linear infinite;
        }

        @keyframes patternMove {
            0% { transform: translateX(0) translateY(0); }
            100% { transform: translateX(-100px) translateY(-100px); }
        }

        .whatsapp-btn {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            background: #25D366;
            color: white;
            padding: 20px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4);
            transition: all 0.3s ease;
            position: relative;
            z-index: 2;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4); }
            50% { box-shadow: 0 15px 40px rgba(37, 211, 102, 0.6); }
            100% { box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4); }
        }

        .whatsapp-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(37, 211, 102, 0.6);
        }

        .whatsapp-icon {
            width: 30px;
            height: 30px;
            fill: currentColor;
        }

        .gallery-section {
            padding: 100px 20px;
            background: linear-gradient(135deg, rgba(0,0,0,0.1), rgba(255,255,255,0.1));
            backdrop-filter: blur(20px);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .gallery-item {
            position: relative;
            height: 250px;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s ease;
            animation: galleryReveal 0.8s ease forwards;
            opacity: 0;
            transform: translateY(30px);
        }

        .gallery-item.main-feature {
            grid-column: span 2;
            height: 350px;
        }

        .gallery-item.expansion-feature {
            border: 3px solid #45b7d1;
            box-shadow: 0 0 20px rgba(69, 183, 209, 0.3);
            position: relative;
        }

        .gallery-item.expansion-feature::before {
            content: 'üöÄ OPORTUNIDAD DE EXPANSI√ìN';
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            background: linear-gradient(45deg, #45b7d1, #96ceb4);
            color: white;
            padding: 8px 15px;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: bold;
            z-index: 10;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.2);
            animation: expandionBadgeGlow 3s ease-in-out infinite;
        }

        @keyframes expandionBadgeGlow {
            0%, 100% {
                box-shadow: 0 4px 15px rgba(0,0,0,0.3), 0 0 0 0 rgba(69, 183, 209, 0.7);
            }
            50% {
                box-shadow: 0 4px 15px rgba(0,0,0,0.3), 0 0 0 8px rgba(69, 183, 209, 0.3);
            }
        }

        .gallery-item:nth-child(1) { animation-delay: 0.1s; }
        .gallery-item:nth-child(2) { animation-delay: 0.2s; }
        .gallery-item:nth-child(3) { animation-delay: 0.3s; }
        .gallery-item:nth-child(4) { animation-delay: 0.4s; }
        .gallery-item:nth-child(5) { animation-delay: 0.5s; }
        .gallery-item:nth-child(6) { animation-delay: 0.6s; }

        @keyframes galleryReveal {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease, filter 0.3s ease;
            cursor: pointer;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
            filter: brightness(1.1);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 30px 20px 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        .gallery-overlay h3 {
            font-size: 1.3rem;
            margin-bottom: 8px;
            color: #4ecdc4;
        }

        .gallery-overlay p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Modal para vista completa de im√°genes */
        .image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .image-modal.active {
            display: flex;
        }

        .modal-content {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        .modal-close:hover {
            opacity: 0.7;
        }

        /* Video flotante Picture-in-Picture */
        .floating-video-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            height: 200px;
            background: rgba(0,0,0,0.95);
            border-radius: 15px;
            overflow: hidden;
            z-index: 9999;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            border: 2px solid rgba(255,255,255,0.1);
        }

        .floating-video-container.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .floating-video-container.minimized {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }

        .floating-video-container.minimized .floating-video {
            object-fit: cover;
        }

        .floating-video-container.minimized .floating-controls {
            display: none;
        }

        .floating-video-container.minimized .floating-header {
            display: none;
        }

        .floating-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
        }

        .floating-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, transparent 100%);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }

        .floating-title {
            color: white;
            font-size: 0.9rem;
            font-weight: bold;
            opacity: 0.9;
        }

        .floating-buttons {
            display: flex;
            gap: 10px;
        }

        .floating-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .floating-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .floating-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(0deg, rgba(0,0,0,0.8) 0%, transparent 100%);
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .floating-video-container:hover .floating-controls {
            opacity: 1;
        }

        .floating-play-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .floating-play-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .floating-progress {
            flex: 1;
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
            overflow: hidden;
            cursor: pointer;
        }

        .floating-progress-bar {
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            width: 0%;
            transition: width 0.1s ease;
        }

        .floating-time {
            color: white;
            font-size: 0.8rem;
            opacity: 0.8;
            font-family: 'Courier New', monospace;
        }

        /* Animaci√≥n de pulso para el video minimizado */
        .floating-video-container.minimized {
            animation: pulse-ring 2s infinite;
        }

        @keyframes pulse-ring {
            0% {
                box-shadow: 0 0 0 0 rgba(69, 183, 209, 0.7);
            }
            50% {
                box-shadow: 0 0 0 10px rgba(69, 183, 209, 0.3);
            }
            100% {
                box-shadow: 0 0 0 20px rgba(69, 183, 209, 0);
            }
        }

        /* Indicador de scroll para mostrar que hay video flotante */
        .scroll-indicator {
            position: fixed;
            top: 50%;
            right: 30px;
            transform: translateY(-50%);
            background: rgba(69, 183, 209, 0.9);
            color: white;
            padding: 10px;
            border-radius: 25px;
            font-size: 0.8rem;
            z-index: 8888;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .scroll-indicator.show {
            opacity: 1;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(-50%);
            }
            40% {
                transform: translateY(-60%);
            }
            60% {
                transform: translateY(-55%);
            }
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
            
            .specs-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
            
            .hero-section {
                padding: 20px;
            }
            
            .gallery-item.main-feature {
                grid-column: span 1;
                height: 250px;
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
            }
            
            .gallery-item.expansion-feature::before {
                font-size: 0.75rem;
                padding: 6px 12px;
                top: 10px;
                left: 10px;
                right: 10px;
            }

            /* Ajustes para m√≥vil del video flotante */
            .floating-video-container {
                width: 280px;
                height: 160px;
                bottom: 15px;
                right: 15px;
            }

            .floating-video-container.minimized {
                width: 60px;
                height: 60px;
            }

            .scroll-indicator {
                right: 20px;
                font-size: 0.7rem;
                padding: 8px;
            }

            /* Ajustes para bot√≥n de play m√≥vil */
            .mobile-play-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }

            .video-toggle-btn {
                bottom: 20px;
                right: 20px;
                padding: 12px 20px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <section class="hero-section">
        <video class="hero-video" id="heroVideo" muted loop playsinline preload="metadata" poster="./assets/videos/tour-poster.jpg">
            <source src="./assets/videos/tour-completo.mp4" type="video/mp4">
            <source src="./assets/videos/tour-completo-compressed.mp4" type="video/mp4">
            Tu navegador no soporta video HTML5.
        </video>
        
        <div class="hero-overlay"></div>
        
        <!-- Overlay de play para m√≥viles -->
        <div class="mobile-play-overlay" id="mobilePlayOverlay">
            <button class="mobile-play-btn" id="mobilePlayBtn">‚ñ∂Ô∏è</button>
        </div>
        
        <div class="floating-cards" id="floating-cards"></div>
        
        <div class="hero-content">
            <h1 class="main-title">OPORTUNIDAD PREMIUM</h1>
            <p class="subtitle">Centro Educativo ‚Ä¢ Arquitectura Octagonal ‚Ä¢ Uso de Suelo Mixto ‚Ä¢ Canc√∫n</p>
        </div>

        <button class="video-toggle-btn" id="videoToggle">
            <span id="videoToggleText">‚ñ∂Ô∏è Reproducir Video</span>
        </button>
    </section>

    <section class="info-section">
        <div class="container">
            <div class="grid">
                <div class="card">
                    <h3 class="card-title">üè´ Instalaciones</h3>
                    <span class="highlight-number">15</span>
                    <p>Aulas y oficinas completamente equipadas</p>
                    <span class="highlight-number">2,977 m¬≤</span>
                    <p>√Årea construida</p>
                </div>

                <div class="card">
                    <h3 class="card-title">üèóÔ∏è Uso de Suelo</h3>
                    <p><strong>Mixto de Barrio (MB)</strong></p>
                    <p>Uso comercial y habitacional</p>
                    <span class="highlight-number">1 viv/40m¬≤</span>
                    <p>Densidad neta permitida</p>
                </div>

                <div class="card">
                    <h3 class="card-title">üöó Estacionamiento Multinivel</h3>
                    <p><strong>Nivel Subterr√°neo</strong></p>
                    <span class="highlight-number">40+</span>
                    <p>Cajones cubiertos + rampas de acceso</p>
                    <span class="highlight-number">1,000 m¬≤</span>
                    <p>√Årea libre para desarrollo</p>
                </div>

                <div class="card">
                    <h3 class="card-title">üìç Ubicaci√≥n Premium</h3>
                    <p><strong>FONATUR SM 313</strong></p>
                    <p>Colegios, Canc√∫n, Q.R.</p>
                    <span class="highlight-number">3,305 m¬≤</span>
                    <p>Terreno total</p>
                </div>
                
                <div style="text-align: center; margin-top: 50px; padding: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(20px);">
                    <h3 style="color: #4ecdc4; font-size: 1.8rem; margin-bottom: 20px;">‚ú® Caracter√≠sticas Excepcionales</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 30px;">
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 10px;">üé≠</div>
                            <strong>√Ågora Octagonal</strong>
                            <p>Dise√±o tipo √°gora √∫nico</p>
                        </div>
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 10px;">üèóÔ∏è</div>
                            <strong>Elevador 4 Niveles</strong>
                            <p>Acceso desde s√≥tano hasta nivel 3</p>
                        </div>
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 10px;">‚ùÑÔ∏è</div>
                            <strong>Climatizaci√≥n Completa</strong>
                            <p>Equipos mini-split en todas las √°reas</p>
                        </div>
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 10px;">üíß</div>
                            <strong>Biodigestor</strong>
                            <p>Sistema ecol√≥gico integrado</p>
                        </div>
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 10px;">üî¨</div>
                            <strong>Purificaci√≥n Agua</strong>
                            <p>Instalaciones de tratamiento</p>
                        </div>
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 10px;">üì°</div>
                            <strong>Tecnolog√≠a Avanzada</strong>
                            <p>Proyectores y audio profesional</p>
                        </div>
                        <div style="background: linear-gradient(45deg, #45b7d1, #96ceb4); border-radius: 15px; padding: 20px; color: white; grid-column: 1 / -1;">
                            <div style="font-size: 2.5rem; margin-bottom: 10px;">üöÄ</div>
                            <strong style="font-size: 1.3rem;">POTENCIAL DE EXPANSI√ìN</strong>
                            <p style="font-size: 1.1rem; margin: 10px 0;"><strong>1,000 m¬≤ libres</strong> para desarrollo futuro</p>
                            <p>Ideal para: M√°s aulas ‚Ä¢ Laboratorios ‚Ä¢ Gimnasio ‚Ä¢ Residencia estudiantil</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="specs-grid">
                <div class="spec-item">
                    <div class="spec-label">Densidad Neta</div>
                    <div class="spec-value">1 viv/40m¬≤</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">CUS M√°ximo</div>
                    <div class="spec-value">8.0</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">COS M√°ximo</div>
                    <div class="spec-value">70%</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Niveles Construidos</div>
                    <div class="spec-value">4 niveles</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Frente M√≠nimo</div>
                    <div class="spec-value">8m</div>
                </div>
                <div class="spec-item">
                    <div class="spec-label">Altura M√°xima</div>
                    <div class="spec-value">30m</div>
                </div>
            </div>
            
            <div class="gallery-section">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 50px; color: #4ecdc4;">üì∏ Instalaciones Premium</h2>
                
                <div class="gallery-grid">
                    <div class="gallery-item main-feature">
                        <img src="./assets/images/edificio-principal.jpg" alt="Edificio Principal" 
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 400 300\'%3E%3Crect fill=\'%23667eea\' width=\'400\' height=\'300\'/%3E%3Ctext x=\'200\' y=\'150\' text-anchor=\'middle\' fill=\'white\' font-size=\'20\'%3EEdificio Principal%3C/text%3E%3C/svg%3E'">
                        <div class="gallery-overlay">
                            <h3>üè¢ Arquitectura Octagonal</h3>
                            <p>Dise√±o octagonal √∫nico con materiales premium</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="./assets/images/auditorio.jpg" alt="Auditorio"
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 400 300\'%3E%3Crect fill=\'%234ecdc4\' width=\'400\' height=\'300\'/%3E%3Ctext x=\'200\' y=\'150\' text-anchor=\'middle\' fill=\'white\' font-size=\'18\'%3EAuditorio%3C/text%3E%3C/svg%3E'">
                        <div class="gallery-overlay">
                            <h3>üé≠ Auditorio Profesional</h3>
                            <p>Capacidad para 200+ personas</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="./assets/images/aulas.jpg" alt="Aulas"
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 400 300\'%3E%3Crect fill=\'%2396ceb4\' width=\'400\' height=\'300\'/%3E%3Ctext x=\'200\' y=\'150\' text-anchor=\'middle\' fill=\'white\' font-size=\'18\'%3EAulas%3C/text%3E%3C/svg%3E'">
                        <div class="gallery-overlay">
                            <h3>üìö Aulas Equipadas</h3>
                            <p>Tecnolog√≠a educativa de vanguardia</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="./assets/images/biblioteca.jpg" alt="Biblioteca"
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 400 300\'%3E%3Crect fill=\'%23ff6b6b\' width=\'400\' height=\'300\'/%3E%3Ctext x=\'200\' y=\'150\' text-anchor=\'middle\' fill=\'white\' font-size=\'18\'%3EBiblioteca%3C/text%3E%3C/svg%3E'">
                        <div class="gallery-overlay">
                            <h3>üìñ Biblioteca Moderna</h3>
                            <p>Espacios de estudio y consulta</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item expansion-feature">
                        <img src="./assets/images/expansion-area.jpg" alt="√Årea de Expansi√≥n"
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 400 300\'%3E%3Crect fill=\'%23764ba2\' width=\'400\' height=\'300\'/%3E%3Ctext x=\'200\' y=\'130\' text-anchor=\'middle\' fill=\'white\' font-size=\'16\'%3E√Årea de%3C/text%3E%3Ctext x=\'200\' y=\'150\' text-anchor=\'middle\' fill=\'white\' font-size=\'16\'%3EExpansi√≥n%3C/text%3E%3Ctext x=\'200\' y=\'170\' text-anchor=\'middle\' fill=\'white\' font-size=\'16\'%3E1000m¬≤%3C/text%3E%3C/svg%3E'">
                        <div class="gallery-overlay">
                            <h3>üöÄ √Årea de Expansi√≥n</h3>
                            <p>1,000 m¬≤ libres para desarrollo futuro</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="./assets/images/estacionamiento.jpg" alt="Estacionamiento"
                             onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 400 300\'%3E%3Crect fill=\'%232a5298\' width=\'400\' height=\'300\'/%3E%3Ctext x=\'200\' y=\'150\' text-anchor=\'middle\' fill=\'white\' font-size=\'16\'%3EEstacionamiento%3C/text%3E%3C/svg%3E'">
                        <div class="gallery-overlay">
                            <h3>üöó Estacionamiento</h3>
                            <p>40+ cajones cubiertos</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal para vista completa de im√°genes -->
    <div class="image-modal" id="imageModal">
        <span class="modal-close" id="modalClose">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <!-- Video flotante Picture-in-Picture -->
    <div class="floating-video-container" id="floatingVideoContainer">
        <div class="floating-header">
            <div class="floating-title">üè´ Tour Virtual</div>
            <div class="floating-buttons">
                <button class="floating-btn" id="minimizeBtn" title="Minimizar">‚àí</button>
                <button class="floating-btn" id="expandBtn" title="Expandir" style="display: none;">‚õ∂</button>
                <button class="floating-btn" id="closeFloatingBtn" title="Cerrar">√ó</button>
            </div>
        </div>
        
        <video class="floating-video" id="floatingVideo" muted playsinline preload="metadata">
            <source src="./assets/videos/tour-completo.mp4" type="video/mp4">
            Tu navegador no soporta video HTML5.
        </video>
        
        <div class="floating-controls">
            <button class="floating-play-btn" id="floatingPlayBtn">‚ñ∂Ô∏è</button>
            <div class="floating-progress" id="floatingProgress">
                <div class="floating-progress-bar" id="floatingProgressBar"></div>
            </div>
            <div class="floating-time" id="floatingTime">0:00 / 0:00</div>
        </div>
    </div>

    <!-- Indicador de scroll -->
    <div class="scroll-indicator" id="scrollIndicator">
        ‚¨áÔ∏è Scroll para video flotante
    </div>

    <section class="cta-section">
        <div class="container">
            <h2 style="font-size: 2.5rem; margin-bottom: 20px; font-weight: 900;">¬°Contacto Directo por WhatsApp!</h2>
            <p style="font-size: 1.2rem; margin-bottom: 40px; opacity: 0.9;">
                Trato directo ‚Ä¢ Sin intermediarios ‚Ä¢ Atenci√≥n exclusiva por WhatsApp
            </p>
            
            <a href="https://wa.me/529981399930?text=¬°Hola!%20He%20visto%20las%20instalaciones%20premium%20del%20centro%20educativo%20con%20arquitectura%20octagonal%20y%20me%20interesa%20esta%20oportunidad%20√∫nica%20de%20inversi√≥n.%20Me%20llama%20especialmente%20la%20atenci√≥n%20el%20dise√±o%20octagonal,%20el%20√°gora,%20las%20instalaciones%20ecol√≥gicas%20(biodigestor%20y%20purificaci√≥n%20de%20agua)%20y%20el%20potencial%20de%20expansi√≥n%20de%201000m¬≤.%20¬øPodr√≠amos%20hablar%20directamente?" 
               class="whatsapp-btn" target="_blank">
                <svg class="whatsapp-icon" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                </svg>
                Contactar por WhatsApp
            </a>
            
            <p style="margin-top: 20px; font-size: 1.1rem; opacity: 0.8;">
                üì± 9981399930 - **Solo WhatsApp** - Trato Directo
            </p>
        </div>
    </section>

    <script>
        // Crear elementos flotantes
        function createFloatingElements() {
            const container = document.getElementById('floating-cards');
            const shapes = ['üè´', 'üìö', 'üéì', 'üíº', 'üìà', 'üèóÔ∏è', 'üé≠', '‚òï', 'üöó', 'üíß', '‚ùÑÔ∏è', 'üì°'];
            
            for (let i = 0; i < 15; i++) {
                const element = document.createElement('div');
                element.className = 'floating-card';
                element.textContent = shapes[Math.floor(Math.random() * shapes.length)];
                element.style.left = Math.random() * 100 + '%';
                element.style.animationDelay = Math.random() * 20 + 's';
                element.style.animationDuration = (15 + Math.random() * 10) + 's';
                
                // Agregar evento de clic para reventar burbujas
                element.addEventListener('click', function() {
                    popBubble(this);
                });
                
                container.appendChild(element);
            }
        }

        // Sistema de gesti√≥n de video inteligente con soporte m√≥vil mejorado
        function initializeVideoSystem() {
            const video = document.getElementById('heroVideo');
            const toggleBtn = document.getElementById('videoToggle');
            const toggleText = document.getElementById('videoToggleText');
            const mobilePlayOverlay = document.getElementById('mobilePlayOverlay');
            const mobilePlayBtn = document.getElementById('mobilePlayBtn');
            
            let isPlaying = false;
            let isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            let hasUserInteracted = false;

            // Funci√≥n para detectar si es dispositivo m√≥vil
            function isMobileDevice() {
                return window.innerWidth <= 768 || isMobile;
            }

            // Mostrar overlay de play en m√≥viles
            function showMobilePlayOverlay() {
                if (isMobileDevice() && !hasUserInteracted) {
                    mobilePlayOverlay.classList.add('show');
                }
            }

            // Ocultar overlay de play
            function hideMobilePlayOverlay() {
                mobilePlayOverlay.classList.remove('show');
                hasUserInteracted = true;
            }

            // Funci√≥n para intentar reproducir video
            async function tryPlayVideo() {
                try {
                    await video.play();
                    isPlaying = true;
                    toggleText.textContent = '‚è∏Ô∏è Pausar Video';
                    hideMobilePlayOverlay();
                    return true;
                } catch (error) {
                    console.log('Autoplay bloqueado:', error);
                    if (isMobileDevice()) {
                        showMobilePlayOverlay();
                    }
                    return false;
                }
            }

            // Funci√≥n para pausar video
            function pauseVideo() {
                video.pause();
                isPlaying = false;
                toggleText.textContent = '‚ñ∂Ô∏è Reproducir Video';
            }

            // Control de reproducci√≥n desde el bot√≥n principal
            toggleBtn.addEventListener('click', async function() {
                if (isPlaying) {
                    pauseVideo();
                } else {
                    await tryPlayVideo();
                }
            });

            // Control desde el bot√≥n m√≥vil central
            mobilePlayBtn.addEventListener('click', async function() {
                await tryPlayVideo();
            });

            // Event listeners para estados del video
            video.addEventListener('play', function() {
                isPlaying = true;
                toggleText.textContent = '‚è∏Ô∏è Pausar Video';
                hideMobilePlayOverlay();
            });

            video.addEventListener('pause', function() {
                isPlaying = false;
                toggleText.textContent = '‚ñ∂Ô∏è Reproducir Video';
            });

            video.addEventListener('ended', function() {
                isPlaying = false;
                toggleText.textContent = '‚ñ∂Ô∏è Reproducir Video';
                if (isMobileDevice()) {
                    showMobilePlayOverlay();
                }
            });

            // Intentar autoplay cuando el video est√° listo
            video.addEventListener('canplaythrough', async function() {
                if (!isMobileDevice() && !hasUserInteracted) {
                    // Solo intentar autoplay en desktop
                    const played = await tryPlayVideo();
                    if (!played) {
                        // Si falla en desktop, mostrar bot√≥n
                        toggleText.textContent = '‚ñ∂Ô∏è Reproducir Video';
                    }
                } else {
                    // En m√≥viles, siempre mostrar overlay inicial
                    showMobilePlayOverlay();
                }
            });

            // Manejar cambios de orientaci√≥n en m√≥viles
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    if (isMobileDevice() && !isPlaying && !hasUserInteracted) {
                        showMobilePlayOverlay();
                    }
                }, 500);
            });

            // Detectar primer toque/click del usuario
            document.addEventListener('touchstart', function() {
                hasUserInteracted = true;
            }, { once: true });

            document.addEventListener('click', function() {
                hasUserInteracted = true;
            }, { once: true });

            // Inicializaci√≥n
            if (isMobileDevice()) {
                // En m√≥viles, mostrar overlay despu√©s de cargar
                setTimeout(showMobilePlayOverlay, 1000);
            }
        }

        // Sistema de modal para vista completa de im√°genes
        function initializeImageModal() {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const closeBtn = document.getElementById('modalClose');
            
            const galleryImages = document.querySelectorAll('.gallery-item img');
            
            galleryImages.forEach((img) => {
                img.addEventListener('click', function() {
                    modal.classList.add('active');
                    modalImg.src = this.src;
                    modalImg.alt = this.alt;
                    document.body.style.overflow = 'hidden';
                });
            });
            
            function hideModal() {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            
            // Event listeners para controles del modal
            closeBtn.addEventListener('click', hideModal);
            
            // Cerrar modal haciendo clic fuera de la imagen
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    hideModal();
                }
            });
            
            // Navegaci√≥n con teclado
            document.addEventListener('keydown', function(e) {
                if (modal.classList.contains('active')) {
                    if (e.key === 'Escape') {
                        hideModal();
                    }
                }
            });
        }

        // Funci√≥n para reventar burbujas
        function popBubble(bubble) {
            // Sonido de pop (usando Web Audio API)
            playPopSound();
            
            // Agregar clase de animaci√≥n de pop
            bubble.classList.add('popping');
            
            // Crear efecto de part√≠culas
            createParticles(bubble);
            
            // Despu√©s de la animaci√≥n, regenerar la burbuja
            setTimeout(() => {
                respawnBubble(bubble);
            }, 600);
        }

        // Funci√≥n para regenerar burbuja
        function respawnBubble(bubble) {
            const shapes = ['üè´', 'üìö', 'üéì', 'üíº', 'üìà', 'üèóÔ∏è', 'üé≠', '‚òï', 'üöó', 'üíß', '‚ùÑÔ∏è', 'üì°'];
            
            // Quitar clase de pop
            bubble.classList.remove('popping');
            
            // Nueva posici√≥n y emoji
            bubble.style.left = Math.random() * 100 + '%';
            bubble.style.top = '100vh'; // Empezar desde abajo
            bubble.textContent = shapes[Math.floor(Math.random() * shapes.length)];
            
            // Agregar animaci√≥n de respawn
            bubble.classList.add('respawning');
            
            // Quitar clase de respawn despu√©s de la animaci√≥n
            setTimeout(() => {
                bubble.classList.remove('respawning');
            }, 800);
        }

        // Crear efecto de part√≠culas cuando revienta
        function createParticles(bubble) {
            const rect = bubble.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.left = centerX + 'px';
                particle.style.top = centerY + 'px';
                particle.style.width = '8px';
                particle.style.height = '8px';
                particle.style.background = `hsl(${Math.random() * 360}, 70%, 60%)`;
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '9999';
                
                const angle = (i / 8) * Math.PI * 2;
                const velocity = 100 + Math.random() * 50;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                particle.style.animation = `particleExplode 0.8s ease-out forwards`;
                particle.style.setProperty('--vx', vx + 'px');
                particle.style.setProperty('--vy', vy + 'px');
                
                document.body.appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 800);
            }
        }

        // Sistema de video flotante Picture-in-Picture con soporte m√≥vil mejorado
        function initializeFloatingVideo() {
            const heroVideo = document.getElementById('heroVideo');
            const floatingContainer = document.getElementById('floatingVideoContainer');
            const floatingVideo = document.getElementById('floatingVideo');
            const floatingPlayBtn = document.getElementById('floatingPlayBtn');
            const floatingProgress = document.getElementById('floatingProgress');
            const floatingProgressBar = document.getElementById('floatingProgressBar');
            const floatingTime = document.getElementById('floatingTime');
            const minimizeBtn = document.getElementById('minimizeBtn');
            const expandBtn = document.getElementById('expandBtn');
            const closeFloatingBtn = document.getElementById('closeFloatingBtn');
            const scrollIndicator = document.getElementById('scrollIndicator');

            let isFloatingVideoVisible = false;
            let isMinimized = false;
            let showIndicator = true;
            let isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;

            // Intersection Observer para detectar cuando el video hero sale del viewport
            const heroObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.intersectionRatio < 0.5 && heroVideo.currentTime > 0 && !heroVideo.paused) {
                        // Video hero no est√° visible y est√° reproduci√©ndose
                        showFloatingVideo();
                    } else if (entry.intersectionRatio >= 0.5) {
                        // Video hero est√° visible
                        hideFloatingVideo();
                    }
                });
            }, {
                threshold: [0.5]
            });

            heroObserver.observe(heroVideo);

            // Mostrar indicador de scroll al principio (solo en desktop)
            setTimeout(() => {
                if (showIndicator && !isMobile) {
                    scrollIndicator.classList.add('show');
                    setTimeout(() => {
                        scrollIndicator.classList.remove('show');
                    }, 3000);
                }
            }, 2000);

            function showFloatingVideo() {
                if (!isFloatingVideoVisible) {
                    // Sincronizar tiempo de reproducci√≥n
                    floatingVideo.currentTime = heroVideo.currentTime;
                    floatingVideo.muted = true; // Siempre muted para evitar problemas
                    
                    if (!heroVideo.paused) {
                        // Intentar reproducir el video flotante
                        floatingVideo.play().catch(e => {
                            console.log('Error reproduciendo video flotante:', e);
                        });
                    }
                    
                    floatingContainer.classList.add('visible');
                    isFloatingVideoVisible = true;
                    showIndicator = false;
                    scrollIndicator.classList.remove('show');
                }
            }

            function hideFloatingVideo() {
                if (isFloatingVideoVisible) {
                    // Sincronizar de vuelta al video hero
                    heroVideo.currentTime = floatingVideo.currentTime;
                    
                    floatingContainer.classList.remove('visible');
                    floatingVideo.pause();
                    isFloatingVideoVisible = false;
                }
            }

            // Controles del video flotante
            floatingPlayBtn.addEventListener('click', async function() {
                if (floatingVideo.paused) {
                    try {
                        await floatingVideo.play();
                        await heroVideo.play();
                        floatingPlayBtn.textContent = '‚è∏Ô∏è';
                    } catch (e) {
                        console.log('Error al reproducir:', e);
                    }
                } else {
                    floatingVideo.pause();
                    heroVideo.pause();
                    floatingPlayBtn.textContent = '‚ñ∂Ô∏è';
                }
            });

            // Barra de progreso
            floatingVideo.addEventListener('timeupdate', function() {
                const progress = (floatingVideo.currentTime / floatingVideo.duration) * 100;
                floatingProgressBar.style.width = progress + '%';
                
                // Actualizar tiempo
                const currentTime = formatTime(floatingVideo.currentTime);
                const duration = formatTime(floatingVideo.duration);
                floatingTime.textContent = `${currentTime} / ${duration}`;
                
                // Sincronizar con video hero (con tolerancia para evitar loops)
                if (Math.abs(heroVideo.currentTime - floatingVideo.currentTime) > 2) {
                    heroVideo.currentTime = floatingVideo.currentTime;
                }
            });

            // Click en barra de progreso para navegar
            floatingProgress.addEventListener('click', function(e) {
                const rect = floatingProgress.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const clickRatio = clickX / rect.width;
                const newTime = clickRatio * floatingVideo.duration;
                
                if (!isNaN(newTime)) {
                    floatingVideo.currentTime = newTime;
                    heroVideo.currentTime = newTime;
                }
            });

            // Bot√≥n minimizar
            minimizeBtn.addEventListener('click', function() {
                floatingContainer.classList.add('minimized');
                minimizeBtn.style.display = 'none';
                expandBtn.style.display = 'block';
                isMinimized = true;
            });

            // Bot√≥n expandir
            expandBtn.addEventListener('click', function() {
                floatingContainer.classList.remove('minimized');
                expandBtn.style.display = 'none';
                minimizeBtn.style.display = 'block';
                isMinimized = false;
            });

            // Click en video minimizado para expandir
            floatingVideo.addEventListener('click', function() {
                if (isMinimized) {
                    expandBtn.click();
                }
            });

            // Bot√≥n cerrar
            closeFloatingBtn.addEventListener('click', function() {
                hideFloatingVideo();
                floatingVideo.pause();
                heroVideo.pause();
            });

            // Actualizar estado del bot√≥n play/pause
            floatingVideo.addEventListener('play', function() {
                floatingPlayBtn.textContent = '‚è∏Ô∏è';
            });

            floatingVideo.addEventListener('pause', function() {
                floatingPlayBtn.textContent = '‚ñ∂Ô∏è';
            });

            // Manejar errores de video
            floatingVideo.addEventListener('error', function(e) {
                console.log('Error en video flotante:', e);
            });

            // Funci√≥n para formatear tiempo
            function formatTime(seconds) {
                if (isNaN(seconds)) return '0:00';
                
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            }
        }

        // Funci√≥n para generar sonido de pop
        function playPopSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.1);
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (e) {
                // Fallback silencioso si no se puede crear audio
            }
        }

        // Inicializaci√≥n completa del sistema multimedia
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar todos los sistemas
            createFloatingElements();
            initializeVideoSystem();
            initializeImageModal();
            initializeFloatingVideo(); // Nueva funcionalidad
            
            // Inicializar efectos de galer√≠a existentes
            const galleryItems = document.querySelectorAll('.gallery-item');
            galleryItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    this.style.transform += ' scale(1.05)';
                    this.style.zIndex = '10';
                });
                
                item.addEventListener('mouseleave', function() {
                    this.style.transform = this.style.transform.replace(' scale(1.05)', '');
                    this.style.zIndex = '1';
                });
            });

            // Efecto especial para el √°rea de expansi√≥n
            const expansionItem = document.querySelector('.expansion-feature');
            if (expansionItem) {
                setInterval(() => {
                    expansionItem.style.boxShadow = '0 0 30px rgba(69, 183, 209, 0.6)';
                    setTimeout(() => {
                        expansionItem.style.boxShadow = '0 0 20px rgba(69, 183, 209, 0.3)';
                    }, 1000);
                }, 3000);
            }
        });

        // Animaci√≥n parallax suave
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const hero = document.querySelector('.hero-section');
            
            if (hero) {
                hero.style.transform = `translateY(${scrolled * 0.5}px)`;
            }
        });
    </script>
</body>
</html>
